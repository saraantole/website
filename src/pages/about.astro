---
import Layout from "../layouts/Layout.astro";
import AboutHeroImage from "../assets/2.jpg";
import { Image } from "astro:assets";
import ContactButton from "../components/ContactButton.astro";

const title = "About Me";
const description = "Learn more about me and my journey";
---

<Layout title={title} description={description}>
  <section id="about">
    <div class="content-wrapper">
      <h1 id="about-title">Hey There!</h1>
      <div class="about-content">
        <div class="text-container">
          <h2>My background</h2>
          <p>
            My passion for programming wasn't at first sight. Before starting my
            journey into the tech world, I graduated in Business and Tourism
            Translation. Once I finished university, I got into online marketing
            which leaded me to take my first steps into the digital industry.
            This zigzag between different fields helped me open up to new
            horizons and acquire a skill set that goes beyond web development.
          </p>

          <h2>My experience</h2>
          <p>
            After working as a freelancer, I was hired as Lead Fullstack
            Developer for a tickets sale startup. My responsibilities included
            choosing the right architecture for the whole project and each
            interface (the main tickets platform, a web app for ticket takers to
            scan tickets at the events, and a back-office interface for creating
            the events landing pages), choosing and integrating the right
            third-party services for the project needs, coding, integrating, and
            testing the different applications and the general workflow.
          </p>

          <h2>My mission</h2>
          <p>
            When I started out, I got into technology because it allowed me to
            create meaningful products for users around the world. Now, thanks
            to Blockchain, developers are not only helping to provide value for
            the present but have the opportunity to create a new decentralized
            and more democratic world for the future. Isn't that enough of a
            mission?
          </p>

          <h2>My interests</h2>
          <p>
            I like to understand the why of things, the mechanism behind them.
            And I like to see how an idea materializes and becomes something
            useful to the world. After exploring UI/UX Design, Machine Learning,
            Mobile Development, and getting my hands dirty with Fullstack
            development, I focused on Fullstack Blockchain/DApps Development.
            Coding aside, I love traveling, nature walks, and desserts.
          </p>
        </div>
        <div class="img-container">
          <Image src={AboutHeroImage} alt="About me" width={380} height={500} />
        </div>
      </div>
    </div>
  </section>
  <ContactButton />
</Layout>

<style>
  section {
    width: 100%;
    min-height: 100vh;
    background: var(--background);
    position: relative;
    padding-bottom: 350px;
  }

  h1 {
    font-size: 72px;
    font-weight: 600;
    margin-left: 120px;
    padding: 40px;
    margin-bottom: 0;
    padding-top: 100px;
    margin-top: 0;
    will-change: transform;
    transform: translateZ(0);
  }

  h2 {
    font-size: 40px;
    font-weight: 600;
    padding: 30px 0 5px 0;
  }

  p {
    font-size: 30px;
    line-height: 48px;
  }

  .content-wrapper {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
  }

  .about-content {
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-around;
    height: 800px;
  }

  .text-container {
    width: 45%;
    padding: 30px;
    overflow-y: auto;
  }

  .text-container::-webkit-scrollbar {
    display: none;
  }

  .img-container {
    width: 380px;
    align-self: flex-end;
    box-shadow: 0 0 2.5rem rgba(0, 0, 0, 0.16);
    line-height: 0;
  }

  .img-container img {
    filter: grayscale(40%) contrast(0.9) brightness(100%);
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
  }

  @media (max-width: 768px) {
    section {
      padding-bottom: 200px;
    }
    h1 {
      font-size: 36px;
      margin: 0;
      padding: 40px 20px 0;
    }

    h2 {
      font-size: 28px;
    }

    p {
      font-size: 24px;
      line-height: 36px;
    }

    .about-content {
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: auto;
    }

    .text-container {
      width: 100%;
      padding: 20px;
    }

    .img-container {
      width: 100%;
      margin-top: 20px;
    }
  }
</style>

<script>
  function initAboutParallax() {
    const titleElement = document.getElementById("about-title");

    if (!titleElement) {
      return;
    }

    let ticking = false;

    const updateParallax = () => {
      const scrollY = window.scrollY;
      const scrollProgress = scrollY * 1.2;

      titleElement.style.transform = `translateX(${scrollProgress}px)`;

      ticking = false;
    };

    const requestTick = () => {
      if (!ticking) {
        window.requestAnimationFrame(updateParallax);
        ticking = true;
      }
    };

    window.addEventListener("scroll", requestTick, { passive: true });

    // Initial call
    updateParallax();
  }

  // Run on page load
  initAboutParallax();

  // Re-run after Astro view transitions
  document.addEventListener("astro:page-load", initAboutParallax);
</script>
